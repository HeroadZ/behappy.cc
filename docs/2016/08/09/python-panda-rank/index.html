<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
    <head prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article#">
    <meta charset="UTF-8" />

    <meta name="generator" content="Hugo 0.62.2" /><meta name="theme-color" content="#fff" />
        <script>
            const userPrefers = localStorage.getItem('theme');
            const darkModeMediaQuery = window.matchMedia('(prefers-color-scheme: dark)');
            const lightModeMediaQuery = window.matchMedia('(prefers-color-scheme: light)');
            if (userPrefers === 'dark') {
                changeModeMeta('dark');
            } else if (userPrefers === 'light') {
                changeModeMeta('light');
            } else if (darkModeMediaQuery.matches) {
                changeModeMeta('dark');
            } else if (lightModeMediaQuery.matches) {
                changeModeMeta('light');
            }
            function changeModeMeta(theme) {
                document.documentElement.setAttribute('data-theme', theme);
                if (theme === 'dark') {
                    changeThemeColor('#16171d');
                } else {
                    changeThemeColor('#fff');
                }
            }
            function changeThemeColor(themeColor) {
                document.querySelector('meta[name="theme-color"]').setAttribute('content', themeColor);
            }
        </script>

    
        
        
        <script>
            if (window.location.host == "example.com" && window.location.protocol != "https:") {
                window.location.protocol = "https";
            }
        </script>

    
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
    <meta name="format-detection" content="telephone=no, date=no, address=no, email=no" />
    
    <meta http-equiv="Cache-Control" content="no-transform" />
    
    <meta http-equiv="Cache-Control" content="no-siteapp" />

    <title>pandaTVç«¹å­Top20æ•™ç¨‹ | é†‰ä¹è½©</title>

    <link rel="stylesheet" href="/css/meme.min.971dde599532fd17550e97ca4a0e54e34f9f6749999fa9ae08a4cbdd9dc2b18c.css" integrity="sha256-lx3eWZUy/RdVDpfKSg5U40&#43;fZ0mZn6muCKTL3Z3CsYw=" />

    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />

        <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto&#43;Serif&#43;SC:wght@400;500;700&amp;family=Source&#43;Code&#43;Pro:ital,wght@0,400;0,700;1,400;1,700&amp;family=Cinzel&#43;Decorative:wght@700&amp;display=swap" media="print" onload="this.media='all'" />
        <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto&#43;Serif&#43;SC:wght@400;500;700&amp;family=Source&#43;Code&#43;Pro:ital,wght@0,400;0,700;1,400;1,700&amp;family=Cinzel&#43;Decorative:wght@700&amp;display=swap" /></noscript>

    <meta name="author" content="å¼ ç¨‹" /><meta name="description" content="è¿™æ¬¡æˆ‘ä¼šå¸¦æ¥ä¸€ä¸ªpandaTVç«¹å­Top20çš„æ•™ç¨‹ï¼Œä»é›¶å¼€å§‹ã€‚ 1. èƒŒæ™¯äº¤ä»£ 1.1 å·¥å…·å’Œç¯å¢ƒâ€¦â€¦
    
    " />

    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    <link rel="mask-icon" href="/icons/safari-pinned-tab.svg" color="#2a6df4" />
    <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-touch-icon.png" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-title" content="é†‰ä¹è½©" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="application-name" content="é†‰ä¹è½©" />
    <meta name="msapplication-starturl" content="../../../../" />
    <meta name="msapplication-TileColor" content="#fff" />
    <meta name="msapplication-TileImage" content="../../../../icons/mstile-150x150.png" />
    <link rel="manifest" href="/manifest.json" />

    
    

    
    <link rel="canonical" href="https://example.com/2016/08/09/python-panda-rank/" />



<script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebPage",
        "datePublished": "2016-08-09T09:44:44+00:00",
        "dateModified": "2020-01-28T13:35:54+09:00",
        "url": "https://example.com/2016/08/09/python-panda-rank/",
        "name": "pandaTVç«¹å­Top20æ•™ç¨‹",
        "description": "è¿™æ¬¡æˆ‘ä¼šå¸¦æ¥ä¸€ä¸ªpandaTVç«¹å­Top20çš„æ•™ç¨‹ï¼Œä»é›¶å¼€å§‹ã€‚ 1. èƒŒæ™¯äº¤ä»£ 1.1 å·¥å…·å’Œç¯å¢ƒâ€¦â€¦\r\n    \r\n    ",
        "image": "https://example.com/icons/apple-touch-icon.png",
        "license": "[CC BY-NC-SA 4.0](https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh)",
        "publisher": {
            "@type": "Organization",
            "name": "é†‰ä¹è½©",
            "logo": {
                "@type": "ImageObject",
                "url": "https://example.com/icons/apple-touch-icon.png"
            },
            "url": "https://example.com/"
        },
        "mainEntityOfPage": {
            "@type": "WebSite",
            "@id": "https://example.com/"
        }
    }
</script>

    



<meta name="twitter:card" content="summary" />

<meta name="twitter:site" content="@Merlini_zc" />
<meta name="twitter:creator" content="@Merlini_zc" />

    





<meta property="og:title" content="pandaTVç«¹å­Top20æ•™ç¨‹" />
<meta property="og:description" content="è¿™æ¬¡æˆ‘ä¼šå¸¦æ¥ä¸€ä¸ªpandaTVç«¹å­Top20çš„æ•™ç¨‹ï¼Œä»é›¶å¼€å§‹ã€‚ 1. èƒŒæ™¯äº¤ä»£ 1.1 å·¥å…·å’Œç¯å¢ƒâ€¦â€¦
    
    " />
<meta property="og:url" content="https://example.com/2016/08/09/python-panda-rank/" />
<meta property="og:site_name" content="é†‰ä¹è½©" />
<meta property="og:locale" content="zh" /><meta property="og:image" content="https://example.com/icons/apple-touch-icon.png" />
    <meta property="og:type" content="website" />

        <link rel="preconnect" href="https://www.google-analytics.com" crossorigin />

        


    
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-166882892-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-166882892-1');
    </script>




    
</head>

    <body>
        <div class="container">
            
    <header class="header" data-scroll-header>
        
            <div class="header-wrapper">
                <div class="header-inner">
                    
    <div class="site-brand">
        
            <a href="/" class="brand">é†‰ä¹è½©</a>
        
    </div>

                    <nav class="nav">
    <ul class="menu" id="menu">
        
            
        
        
        
        
            
                <li class="menu-item"><a href="/life/"><span class="menu-item-name">ç”Ÿæ´»</span></a>
                </li>
            
        
            
                <li class="menu-item"><a href="/tech/"><span class="menu-item-name">æŠ€æœ¯</span></a>
                </li>
            
        
            
                <li class="menu-item"><a href="/tags/"><span class="menu-item-name">æ ‡ç­¾</span></a>
                </li>
            
        
            
                <li class="menu-item"><a href="/about/"><span class="menu-item-name">å…³äº</span></a>
                </li>
            
        
            
                
                    <li class="menu-item">
                        
    
        
            
        
        <div id="theme-switcher">ğŸŒ</div>
    


                    </li>
                
            
        
    </ul>
</nav>

                    
                </div>
            </div>
            
    <input type="checkbox" id="nav-toggle" aria-hidden="true" />
    <label for="nav-toggle" class="nav-toggle"></label>
    <label for="nav-toggle" class="nav-curtain"></label>


        
    </header>




            
            
    <main class="main single" id="main">
    <div class="main-inner">

        <article class="content post" data-align="justify" data-type="tech">

            <h1 class="post-title">pandaTVç«¹å­Top20æ•™ç¨‹</h1>

            

            
                
            

            

            
                <nav class="contents">
  <h2 id="contents" class="contents-title">ç›®å½•</h2><ol class="toc">
    <li><a id="contents:11-å·¥å…·å’Œç¯å¢ƒ" href="#11-å·¥å…·å’Œç¯å¢ƒ">1.1 å·¥å…·å’Œç¯å¢ƒï¼š</a></li>
    <li><a id="contents:12-æ•™ç¨‹æ•´ä½“æ€è·¯" href="#12-æ•™ç¨‹æ•´ä½“æ€è·¯">1.2 æ•™ç¨‹æ•´ä½“æ€è·¯ï¼š</a></li>
  </ol>

  <ol>
    <li><a id="contents:21-æŠ“åŒ…åˆ†æ" href="#21-æŠ“åŒ…åˆ†æ">2.1 æŠ“åŒ…åˆ†æ</a>
      <ol>
        <li><a id="contents:211-ç½‘é¡µæŠ“åŒ…" href="#211-ç½‘é¡µæŠ“åŒ…">2.1.1 ç½‘é¡µæŠ“åŒ…</a></li>
        <li><a id="contents:212-fiddleræŠ“åŒ…" href="#212-fiddleræŠ“åŒ…">2.1.2 fiddleræŠ“åŒ…</a></li>
      </ol>
    </li>
    <li><a id="contents:22-å†™çˆ¬è™«" href="#22-å†™çˆ¬è™«">2.2 å†™çˆ¬è™«</a>
      <ol>
        <li><a id="contents:221-æˆ¿é—´å·åˆ—è¡¨" href="#221-æˆ¿é—´å·åˆ—è¡¨">2.2.1 æˆ¿é—´å·åˆ—è¡¨</a></li>
        <li><a id="contents:222-è·å–ä¸»æ’­idå’Œç«¹å­æ•°" href="#222-è·å–ä¸»æ’­idå’Œç«¹å­æ•°">2.2.2 è·å–ä¸»æ’­idå’Œç«¹å­æ•°</a></li>
      </ol>
    </li>
    <li><a id="contents:23-å­˜å‚¨åˆ°æ•°æ®åº“mongodb" href="#23-å­˜å‚¨åˆ°æ•°æ®åº“mongodb">2.3 å­˜å‚¨åˆ°æ•°æ®åº“Mongodb</a></li>
    <li><a id="contents:24-æå–åˆ†ææ•°æ®" href="#24-æå–åˆ†ææ•°æ®">2.4 æå–åˆ†ææ•°æ®</a></li>
    <li><a id="contents:25-æ•°æ®å¯è§†åŒ–" href="#25-æ•°æ®å¯è§†åŒ–">2.5 æ•°æ®å¯è§†åŒ–</a>
      <ol>
        <li><a id="contents:251-echartsjs" href="#251-echartsjs">2.5.1 echarts.js</a></li>
        <li><a id="contents:252-ç§»åŠ¨ç«¯ç®€å•æ”¯æŒ" href="#252-ç§»åŠ¨ç«¯ç®€å•æ”¯æŒ">2.5.2 ç§»åŠ¨ç«¯ç®€å•æ”¯æŒ</a></li>
      </ol>
    </li>
    <li><a id="contents:26-éƒ¨ç½²åˆ°ç½‘ç«™" href="#26-éƒ¨ç½²åˆ°ç½‘ç«™">2.6 éƒ¨ç½²åˆ°ç½‘ç«™</a></li>
  </ol>
</nav><div class="post-body"><p>è¿™æ¬¡æˆ‘ä¼šå¸¦æ¥ä¸€ä¸ªpandaTVç«¹å­Top20çš„æ•™ç¨‹ï¼Œä»é›¶å¼€å§‹ã€‚</p>
<h1 id="1-èƒŒæ™¯äº¤ä»£"><a href="#1-èƒŒæ™¯äº¤ä»£" class="anchor-link"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href="#contents:1-èƒŒæ™¯äº¤ä»£" class="headings">1. èƒŒæ™¯äº¤ä»£</a></h1>
<h2 id="11-å·¥å…·å’Œç¯å¢ƒ"><a href="#11-å·¥å…·å’Œç¯å¢ƒ" class="anchor-link"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href="#contents:11-å·¥å…·å’Œç¯å¢ƒ" class="headings">1.1 å·¥å…·å’Œç¯å¢ƒï¼š</a></h2>
<blockquote>
</blockquote>
<ol>
<li>pythonåº“ï¼šrequestsã€pymongoç­‰</li>
<li>å¼€å‘ç¯å¢ƒï¼špython3.5ã€windows10</li>
<li>æ•°æ®åº“ï¼šmongodb</li>
<li>æ•°æ®å¯è§†åŒ–å·¥å…·echarts.js</li>
<li>æŠ“åŒ…åˆ†æå·¥å…·fiddler</li>
<li>ä¸€ä¸ªè™šæ‹Ÿä¸»æœºæˆ–è€…github pages</li>
</ol>
<h2 id="12-æ•™ç¨‹æ•´ä½“æ€è·¯"><a href="#12-æ•™ç¨‹æ•´ä½“æ€è·¯" class="anchor-link"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href="#contents:12-æ•™ç¨‹æ•´ä½“æ€è·¯" class="headings">1.2 æ•™ç¨‹æ•´ä½“æ€è·¯ï¼š</a></h2>
<blockquote>
<ol>
<li>é¦–å…ˆæˆ‘ä»¬è¦æŠ“å–æ•°æ®ï¼ˆä¸»æ’­idå’Œç«¹å­æ•°ï¼‰ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±è¦æŠ“åŒ…åˆ†æã€‚</li>
<li>å½“æˆ‘ä»¬çŸ¥é“ä»å“ªé‡Œå¯ä»¥è·å–æ•°æ®åï¼Œå°±è¦å†™çˆ¬è™«ã€‚å†™çˆ¬è™«çš„æ—¶å€™è¦è€ƒè™‘ä»¥ä¸‹é—®é¢˜ï¼Œæ¯”å¦‚å¹¶å‘ï¼Œå¢é‡ç­‰ã€‚</li>
<li>å½“æˆ‘ä»¬æŠ“å–åˆ°æ‰€éœ€æ•°æ®æ—¶ï¼Œæˆ‘ä»¬éœ€è¦ä¿å­˜æ•°æ®ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†æ•°æ®åº“ï¼ˆå…¶å®æ˜¯æ€é¸¡ç”¨ç‰›åˆ€äº†ï¼‰ã€‚</li>
<li>ç°åœ¨æˆ‘ä»¬è¦æ ¹æ®éœ€æ±‚æ¥æå–åˆ†ææ•°æ®äº†ï¼Œç„¶åè¿”å›æˆ‘ä»¬éœ€è¦çš„æ•°æ®ã€‚</li>
<li>å¾—åˆ°æ‰€éœ€æ•°æ®åï¼Œæˆ‘ä»¬è¦å±•ç¤ºè¿™äº›æ•°æ®ï¼Œè¦ä½¿ç”¨ä¸€äº›æ•°æ®å¯è§†åŒ–å·¥å…·ã€‚</li>
<li>å†™å¥½å±•ç¤ºé¡µé¢åï¼Œæˆ‘ä»¬è¦å°†å®ƒéƒ¨ç½²åˆ°ç½‘ç«™ä¸Šå»ï¼Œä¼šè®²åˆ°ä¸€äº›æ–¹æ³•ã€‚</li>
</ol>
</blockquote>
<h1 id="2-æ•™ç¨‹æ­£æ–‡"><a href="#2-æ•™ç¨‹æ­£æ–‡" class="anchor-link"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href="#contents:2-æ•™ç¨‹æ­£æ–‡" class="headings">2. æ•™ç¨‹æ­£æ–‡</a></h1>
<h2 id="21-æŠ“åŒ…åˆ†æ"><a href="#21-æŠ“åŒ…åˆ†æ" class="anchor-link"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href="#contents:21-æŠ“åŒ…åˆ†æ" class="headings">2.1 æŠ“åŒ…åˆ†æ</a></h2>
<p>æˆ‘ä»¬å…ˆåˆ†æä¸€ä¸‹éœ€æ±‚ï¼Œæˆ‘ä»¬å¸Œæœ›å¾—åˆ°çš„æ•°æ®ï¼š</p>
<blockquote>
<ol>
<li>å› ä¸ºpandaTVæˆ¿é—´å·æ˜¯ä¸å›ºå®šçš„ï¼Œæˆ‘ä»¬è¦å…ˆè·å–çƒ­é—¨ç›´æ’­é‡Œé¢çš„å‰20ä¸ªä¸»æ’­çš„æˆ¿é—´å·ã€‚</li>
<li>å¾—åˆ°æˆ¿é—´å·ä»¥åï¼Œæˆ‘ä»¬è¦å¾—åˆ°æ¯ä¸ªæˆ¿é—´å·é‡Œçš„ä¸»æ’­idå’Œç«¹å­æ•°é‡ã€‚</li>
</ol>
</blockquote>
<p>å¦‚æœä¸æƒ³æŠ“åŒ…åˆ†æï¼Œé‚£å¯ä»¥ç›´æ¥ä½¿ç”¨seleniumï¼Œä½†æ˜¯seleniumæ˜¯ä¸‡ä¸å¾—å·²æ‰ä¼šç”¨çš„ï¼Œæˆ‘ç¬¬ä¸€æ¬¡å†™çš„ç‰ˆæœ¬å°±æ˜¯seleniumç‰ˆçš„ï¼Œè¿è¡Œé€Ÿåº¦å¾ˆæ…¢ã€‚å› ä¸ºå®ƒçš„åŸç†å°±æ˜¯æ¨¡æ‹Ÿäººæ§åˆ¶æµè§ˆå™¨ï¼Œè¦ä¸€ä¸ªä¸€ä¸ªç‚¹å¼€ç½‘é¡µã€‚</p>
<h3 id="211-ç½‘é¡µæŠ“åŒ…"><a href="#211-ç½‘é¡µæŠ“åŒ…" class="anchor-link"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href="#contents:211-ç½‘é¡µæŠ“åŒ…" class="headings">2.1.1 ç½‘é¡µæŠ“åŒ…</a></h3>
<p>é‚£ä¹ˆæˆ‘ä»¬æ¥ä¸‹æ¥å¼€å§‹æŠ“åŒ…åˆ†æï¼ŒpandaTVä½¿ç”¨äº†ajaxï¼Œæˆ‘ä»¬ä½¿ç”¨å¼€å‘è€…å·¥å…·æ¥æŠ“åŒ…åˆ†æä¸€ä¸‹ã€‚æ”¾ä¸Š<a href="https://developer.chrome.com/devtools" target="_blank" rel="noopener">chromeå¼€å‘è€…å·¥å…·æ•™ç¨‹</a></p>
<p>æˆ‘ä»¬æ‰“å¼€F12ï¼Œç‚¹åˆ°Networkæ ‡ç­¾ï¼ŒæŠŠpreserve logé’©æ‰“ä¸Šï¼Œä¸‹é¢çš„é€‰æ‹©XHRï¼Œå¼€å§‹æŠ“åŒ…åˆ†æã€‚æˆ‘ä»¬å…ˆè¾“å…¥ç½‘å€ <a href="http://www.panda.tv" target="_blank" rel="noopener">www.panda.tv</a>ï¼Œç„¶åç‚¹å…¨éƒ¨ï¼Œç„¶åéšä¾¿é€‰ä¸ªæˆ¿é—´è¿›å»ï¼Œæ­¤å¤„ä»¥æˆ‘çš„æˆ¿é—´ä¸ºä¾‹ã€‚</p>
<p><img src="/images/panda-F12.jpg" alt="pandaTVæŠ“åŒ…">
è¿™é‡Œæˆ‘ç›´æ¥ç»™å‡ºéœ€è¦çš„åœ°å€ï¼Œå³ç¬¬4æ­¥çš„åœ°å€ï¼Œå…¶ä»–çš„åœ°å€æš‚æ—¶ä¸éœ€è¦ã€‚é‚£ä¹ˆç½‘å€æ ¼å¼å¤§æ¦‚<code>&quot;http://www.panda.tv/api_room_v2?roomid=&quot; + æˆ¿é—´å·</code>, æ¯”å¦‚ <code>http://www.panda.tv/api_room_v2?roomid=473005</code>
æˆ‘ä»¬ç›´æ¥è®¿é—®è¿™ä¸ªç½‘å€ï¼Œå¾—åˆ°jsonæ ¼å¼çš„æ•°æ®ï¼Œé‡Œé¢æœ‰æˆ‘ä»¬éœ€è¦çš„ä¸»æ’­idå’Œç«¹å­æ•°ã€‚</p>
<h3 id="212-fiddleræŠ“åŒ…"><a href="#212-fiddleræŠ“åŒ…" class="anchor-link"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href="#contents:212-fiddleræŠ“åŒ…" class="headings">2.1.2 fiddleræŠ“åŒ…</a></h3>
<p>é‚£æˆ‘ä»¬å¾—åˆ°äº†è¾“å…¥æˆ¿é—´å·è¿”å›æ•°æ®çš„åœ°å€ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬è¦è·å–çƒ­é—¨ç›´æ’­çš„åœ°å€ï¼Œé‚£ç½‘é¡µç‰ˆæ˜¯æ— æ³•è·å–çš„ï¼Œæˆ‘ä»¬éœ€è¦æŠ“å–Androidå®¢æˆ·ç«¯çš„apiï¼Œè¿™é‡Œç”¨åˆ°çš„å·¥å…·æ˜¯fiddlerï¼Œç»™å‡º<a href="http://www.trinea.cn/android/android-network-sniffer/" target="_blank" rel="noopener">fiddleræ•™ç¨‹</a></p>
<p>ä¸ºäº†èŠ‚çœæ—¶é—´ï¼Œæˆ‘ç›´æ¥ç»™å‡ºæˆ‘ä»¬éœ€è¦çš„åœ°å€ã€‚pagenoæ˜¯é¡µæ•°ï¼Œpagenumæ˜¯æ¯é¡µå¤šå°‘äººï¼ŒåŒæ ·å¾—åˆ°jsonæ ¼å¼æ•°æ®ã€‚
<code>
<a href="http://api.m.panda.tv/ajax_live_lists?pageno=1&amp;pagenum=20&amp;status=2&amp;order=person_num" target="_blank" rel="noopener">http://api.m.panda.tv/ajax_live_lists?pageno=1&amp;pagenum=20&amp;status=2&amp;order=person_num</a>
</code></p>
<p>è¿˜æœ‰ä¸€ä¸ªGithubä¸Šçš„éå®˜æ–¹APIï¼Œä¹ŸæŒºä¸é”™çš„ã€‚<a href="https://github.com/MatteO-Matic/pandatvAPI" target="_blank" rel="noopener">pandatvAPI</a></p>
<h2 id="22-å†™çˆ¬è™«"><a href="#22-å†™çˆ¬è™«" class="anchor-link"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href="#contents:22-å†™çˆ¬è™«" class="headings">2.2 å†™çˆ¬è™«</a></h2>
<h3 id="221-æˆ¿é—´å·åˆ—è¡¨"><a href="#221-æˆ¿é—´å·åˆ—è¡¨" class="anchor-link"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href="#contents:221-æˆ¿é—´å·åˆ—è¡¨" class="headings">2.2.1 æˆ¿é—´å·åˆ—è¡¨</a></h3>
<p>æˆ‘ä»¬æ ¹æ®Androidå®¢æˆ·ç«¯æŠ“å–åˆ°çš„urlè·å–æˆ¿é—´å·åˆ—è¡¨</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">requests</span>

<span class="c1">#å¾—åˆ°æ¨èå‰20çš„æˆ¿é—´å·</span>
<span class="k">def</span> <span class="nf">getTop20List</span><span class="p">(</span><span class="p">)</span><span class="p">:</span>
	<span class="n">top20List</span> <span class="o">=</span> <span class="p">[</span><span class="p">]</span>
	<span class="n">url</span> <span class="o">=</span> <span class="sa"></span><span class="s2">&#34;</span><span class="s2">http://api.m.panda.tv/ajax_live_lists?pageno=1&amp;pagenum=20&amp;status=2&amp;order=person_num</span><span class="s2">&#34;</span>
	<span class="n">info</span>  <span class="o">=</span> <span class="p">(</span><span class="p">(</span><span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span><span class="p">)</span><span class="o">.</span><span class="n">json</span><span class="p">(</span><span class="p">)</span><span class="p">)</span><span class="p">[</span><span class="sa"></span><span class="s2">&#34;</span><span class="s2">data</span><span class="s2">&#34;</span><span class="p">]</span><span class="p">[</span><span class="sa"></span><span class="s2">&#34;</span><span class="s2">items</span><span class="s2">&#34;</span><span class="p">]</span>
	<span class="p">[</span><span class="n">top20List</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">data_id</span><span class="p">[</span><span class="sa"></span><span class="s2">&#34;</span><span class="s2">id</span><span class="s2">&#34;</span><span class="p">]</span><span class="p">)</span> <span class="k">for</span> <span class="n">data_id</span> <span class="ow">in</span> <span class="n">info</span><span class="p">]</span>
	<span class="k">return</span> <span class="n">top20List</span>
</code></pre></td></tr></table>
</div>
</div><p>é‚£ä¹ˆæˆ‘ä»¬å†åˆ†æä¸€ä¸‹ï¼Œå› ä¸ºè¿™æ˜¯å½“å‰çš„çƒ­é—¨ç›´æ’­å‰20ï¼Œä¸»æ’­çš„ä½œæ¯æ—¶é—´æ˜¯ä¸å›ºå®šçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬æ¶µç›–ä¸äº†æ‰€æœ‰çš„ä¸»æ’­ã€‚é‚£ä¹ˆæˆ‘ä»¬è¦å®ç°å¢é‡æŠ“å–ï¼Œå³æ¯æ¬¡çˆ¬å–çš„æˆ¿é—´å·è¦ä¿å­˜ä¸‹æ¥ï¼Œè¿™æ ·åå¤å‡ æ¬¡ï¼Œå¯ä»¥æ¶µç›–å‡ ä¹æ‰€æœ‰çš„çƒ­é—¨ä¸»æ’­ã€‚è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨pickleï¼Œè¿™æ˜¯ä¸€ä¸ªå¾ˆæ–¹ä¾¿çš„åº“ï¼Œæ–¹ä¾¿çš„ä¿å­˜è¯»å–æˆ¿é—´å·åˆ—è¡¨ï¼Œç„¶åå®ç°å¢é‡ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">pickle</span><span class="o">,</span> <span class="nn">os.path</span>

<span class="c1">#è®°å½•çˆ¬å–çš„æˆ¿é—´å·</span>
<span class="k">def</span> <span class="nf">recordRoomList</span><span class="p">(</span><span class="n">roomNumberList</span><span class="p">)</span><span class="p">:</span>
	<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="sa"></span><span class="s1">&#39;</span><span class="s1">roomList.pickle</span><span class="s1">&#39;</span><span class="p">,</span> <span class="sa"></span><span class="s1">&#39;</span><span class="s1">wb</span><span class="s1">&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
		<span class="n">pickle</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">roomNumberList</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span>

<span class="c1">#è¯»å–æ–‡ä»¶ä¸­çš„æˆ¿é—´å·</span>
<span class="k">def</span> <span class="nf">readRoomList</span><span class="p">(</span><span class="p">)</span><span class="p">:</span>
	<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="sa"></span><span class="s1">&#39;</span><span class="s1">roomList.pickle</span><span class="s1">&#39;</span><span class="p">,</span> <span class="sa"></span><span class="s1">&#39;</span><span class="s1">rb</span><span class="s1">&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
  		<span class="n">roomNumberList</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
	<span class="k">return</span> <span class="n">roomNumberList</span>


<span class="c1">#å¢é‡åˆ¤æ–­</span>
<span class="k">def</span> <span class="nf">incrementRoom</span><span class="p">(</span><span class="n">roomNumberList</span><span class="p">)</span><span class="p">:</span>
	<span class="k">if</span><span class="p">(</span><span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="sa"></span><span class="s2">&#34;</span><span class="s2">roomList.pickle</span><span class="s2">&#34;</span><span class="p">)</span><span class="p">)</span><span class="p">:</span>
		<span class="n">recordRoomList</span><span class="p">(</span><span class="n">roomNumberList</span><span class="p">)</span>
		<span class="k">return</span> <span class="n">roomNumberList</span>
	<span class="n">existRoomList</span> <span class="o">=</span> <span class="n">readRoomList</span><span class="p">(</span><span class="p">)</span>
	<span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">roomNumberList</span><span class="p">:</span>
		<span class="k">if</span><span class="p">(</span><span class="n">item</span> <span class="ow">in</span> <span class="n">existRoomList</span><span class="p">)</span><span class="p">:</span>
			<span class="k">continue</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="n">existRoomList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
	<span class="n">recordRoomList</span><span class="p">(</span><span class="n">existRoomList</span><span class="p">)</span>
	<span class="k">return</span> <span class="n">existRoomList</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="222-è·å–ä¸»æ’­idå’Œç«¹å­æ•°"><a href="#222-è·å–ä¸»æ’­idå’Œç«¹å­æ•°" class="anchor-link"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href="#contents:222-è·å–ä¸»æ’­idå’Œç«¹å­æ•°" class="headings">2.2.2 è·å–ä¸»æ’­idå’Œç«¹å­æ•°</a></h3>
<p>ç°åœ¨æˆ‘ä»¬å¾—åˆ°äº†æˆ¿é—´å·åˆ—è¡¨ï¼Œæ ¹æ®æˆ‘ä»¬æŠ“åŒ…åˆ†æå¾—åˆ°çš„åœ°å€ï¼Œä¸€ä¸ªä¸€ä¸ªåœ°è¯·æ±‚ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">requests</span>

<span class="c1">#å¾—åˆ°è¯¥æˆ¿é—´çš„ä¸»æ’­idå’Œç«¹å­</span>
<span class="k">def</span> <span class="nf">getBambooAndName</span><span class="p">(</span><span class="n">roomNumberList</span><span class="p">)</span><span class="p">:</span>
	<span class="n">roomInfoList</span> <span class="o">=</span> <span class="p">[</span><span class="p">]</span>
	<span class="n">prefix</span> <span class="o">=</span> <span class="sa"></span><span class="s2">&#34;</span><span class="s2">http://www.panda.tv/api_room_v2?roomid=</span><span class="s2">&#34;</span>
	<span class="k">for</span> <span class="n">u</span> <span class="ow">in</span> <span class="n">roomNumberList</span><span class="p">:</span>
		<span class="n">singleRoom</span> <span class="o">=</span> <span class="p">[</span><span class="p">]</span>
		<span class="n">singleRoom</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">u</span><span class="p">)</span>
		<span class="n">info</span> <span class="o">=</span> <span class="p">(</span><span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">prefix</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">u</span><span class="p">)</span><span class="p">)</span><span class="p">)</span><span class="o">.</span><span class="n">json</span><span class="p">(</span><span class="p">)</span>
		<span class="k">if</span><span class="p">(</span><span class="n">info</span><span class="p">)</span><span class="p">:</span>
			<span class="k">print</span><span class="p">(</span><span class="n">info</span><span class="p">[</span><span class="sa"></span><span class="s1">&#39;</span><span class="s1">data</span><span class="s1">&#39;</span><span class="p">]</span><span class="p">[</span><span class="sa"></span><span class="s1">&#39;</span><span class="s1">hostinfo</span><span class="s1">&#39;</span><span class="p">]</span><span class="p">[</span><span class="sa"></span><span class="s1">&#39;</span><span class="s1">name</span><span class="s1">&#39;</span><span class="p">]</span><span class="p">)</span>
			<span class="n">singleRoom</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">info</span><span class="p">[</span><span class="sa"></span><span class="s1">&#39;</span><span class="s1">data</span><span class="s1">&#39;</span><span class="p">]</span><span class="p">[</span><span class="sa"></span><span class="s1">&#39;</span><span class="s1">hostinfo</span><span class="s1">&#39;</span><span class="p">]</span><span class="p">[</span><span class="sa"></span><span class="s1">&#39;</span><span class="s1">name</span><span class="s1">&#39;</span><span class="p">]</span><span class="p">)</span>
			<span class="n">singleRoom</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">info</span><span class="p">[</span><span class="sa"></span><span class="s1">&#39;</span><span class="s1">data</span><span class="s1">&#39;</span><span class="p">]</span><span class="p">[</span><span class="sa"></span><span class="s1">&#39;</span><span class="s1">hostinfo</span><span class="s1">&#39;</span><span class="p">]</span><span class="p">[</span><span class="sa"></span><span class="s1">&#39;</span><span class="s1">bamboos</span><span class="s1">&#39;</span><span class="p">]</span><span class="p">)</span><span class="o">/</span><span class="mf">1e6</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span><span class="p">)</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="n">singleRoom</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="p">[</span><span class="sa"></span><span class="s2">&#34;</span><span class="s2">none</span><span class="s2">&#34;</span><span class="p">,</span> <span class="sa"></span><span class="s2">&#34;</span><span class="s2">none</span><span class="s2">&#34;</span><span class="p">]</span><span class="p">)</span>
			<span class="k">print</span><span class="p">(</span><span class="sa"></span><span class="s2">&#34;</span><span class="s2">not get</span><span class="s2">&#34;</span><span class="p">)</span>
		<span class="n">roomInfoList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">singleRoom</span><span class="p">)</span>				
	<span class="k">return</span> <span class="n">roomInfoList</span>
</code></pre></td></tr></table>
</div>
</div><p>è¯·æ³¨æ„ï¼Œæ­¤å¤„æˆ‘å¹¶æ²¡æœ‰ç®€å•åœ°ç”¨ä¸¤ä¸ªlistï¼Œè€Œæ˜¯ä½¿ç”¨äº†list in listçš„å½¢å¼ã€‚whyï¼Ÿè¿™æ˜¯å› ä¸ºä¸ºäº†åé¢çš„æ•°æ®åº“è€Œè®¾è®¡çš„ã€‚æˆ‘è¿™é‡Œçš„å½¢å¼æ˜¯[[room1],[room2],...]</p>
<h2 id="23-å­˜å‚¨åˆ°æ•°æ®åº“mongodb"><a href="#23-å­˜å‚¨åˆ°æ•°æ®åº“mongodb" class="anchor-link"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href="#contents:23-å­˜å‚¨åˆ°æ•°æ®åº“mongodb" class="headings">2.3 å­˜å‚¨åˆ°æ•°æ®åº“Mongodb</a></h2>
<p>é¦–å…ˆéœ€è¦å®‰è£…mongodbæ•°æ®åº“ï¼Œç„¶åæˆ‘ä»¬è¯­è¨€æ˜¯pythonï¼Œæ‰€ä»¥ä½¿ç”¨pymongoåº“ã€‚
<a href="http://api.mongodb.com/python/current/tutorial.html" target="_blank" rel="noopener">pymongoæ•™ç¨‹</a></p>
<p>æˆ‘ä»¬è¦ä»¥å­—å…¸å½¢å¼å­˜å‚¨è¿›æ•°æ®åº“ï¼Œè€Œä¸”è¦å…ˆè®¾è®¡å¥½æ•°æ®åº“ï¼Œæˆ‘çš„è®¾è®¡å¦‚ä¸‹ã€‚
<img src="/images/mongodb_structure.jpg" alt="mongodbæ¡†æ¶è®¾è®¡"></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="kn">from</span> <span class="nn">pymongo</span> <span class="kn">import</span> <span class="n">MongoClient</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>

<span class="c1">#è·å–å­—å…¸å½¢å¼</span>
<span class="k">def</span> <span class="nf">getDict</span><span class="p">(</span><span class="n">roomInfoList</span><span class="p">)</span><span class="p">:</span>
	<span class="n">roomInfoDict</span> <span class="o">=</span> <span class="p">{</span><span class="p">}</span>
	<span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">roomInfoList</span><span class="p">:</span>
		<span class="n">singleRoom</span> <span class="o">=</span> <span class="p">{</span><span class="sa"></span><span class="s2">&#34;</span><span class="s2">name</span><span class="s2">&#34;</span><span class="p">:</span> <span class="n">item</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="p">,</span> <span class="sa"></span><span class="s2">&#34;</span><span class="s2">bamboos</span><span class="s2">&#34;</span><span class="p">:</span> <span class="n">item</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="p">,</span> <span class="sa"></span><span class="s2">&#34;</span><span class="s2">date</span><span class="s2">&#34;</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">(</span><span class="p">)</span><span class="p">}</span>
		<span class="n">roomInfoDict</span><span class="p">[</span><span class="sa"></span><span class="s2">&#34;</span><span class="s2">room</span><span class="s2">&#34;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">item</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="p">)</span><span class="p">]</span> <span class="o">=</span> <span class="n">singleRoom</span>
	<span class="k">return</span> <span class="n">roomInfoDict</span>

<span class="c1">#å­˜å‚¨åˆ°mongodb</span>
<span class="k">def</span> <span class="nf">saveToMongo</span><span class="p">(</span><span class="n">roomInfoDict</span><span class="p">)</span><span class="p">:</span>
	<span class="n">client</span> <span class="o">=</span> <span class="n">MongoClient</span><span class="p">(</span><span class="p">)</span>
	<span class="n">db</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">pandaTV</span>
	<span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="n">roomInfoDict</span><span class="o">.</span><span class="n">items</span><span class="p">(</span><span class="p">)</span><span class="p">:</span>
		<span class="n">collection</span> <span class="o">=</span> <span class="n">db</span><span class="p">[</span><span class="n">k</span><span class="p">]</span>
		<span class="n">collection</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
	<span class="n">client</span><span class="o">.</span><span class="n">close</span><span class="p">(</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>æœ€ç»ˆå­˜å‚¨è¿›mongodbçš„æ•°æ®æ˜¯è¿™æ ·çš„ï¼Œæˆ‘ä»¬ç»™æ¯ä¸ªpostéƒ½åŠ äº†ä¸€ä¸ªï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">&gt; show collections
room10003
room10009
room100130
room10015
...

&gt; db.room7000.find<span class="o">(</span><span class="o">)</span>
<span class="o">{</span> <span class="s2">&#34;_id&#34;</span> : ObjectId<span class="o">(</span><span class="s2">&#34;57a2f91deccca320542a9e64&#34;</span><span class="o">)</span>, <span class="s2">&#34;bamboos&#34;</span> : 21.4, <span class="s2">&#34;date&#34;</span> : ISODate<span class="o">(</span><span class="s2">&#34;2016-08-04T08:13:16.973Z&#34;</span><span class="o">)</span>, <span class="s2">&#34;name&#34;</span> : <span class="s2">&#34;LPLç†ŠçŒ«TVå®˜æ–¹ç›´æ’­&#34;</span> <span class="o">}</span>
<span class="o">{</span> <span class="s2">&#34;_id&#34;</span> : ObjectId<span class="o">(</span><span class="s2">&#34;57a2ff93eccca31b38213ac1&#34;</span><span class="o">)</span>, <span class="s2">&#34;name&#34;</span> : <span class="s2">&#34;LPLç†ŠçŒ«TVå®˜æ–¹ç›´æ’­&#34;</span>, <span class="s2">&#34;date&#34;</span> : ISODate<span class="o">(</span><span class="s2">&#34;2016-08-04T08:40:51.872Z&#34;</span><span class="o">)</span>, <span class="s2">&#34;bamboos&#34;</span> : 21.4 <span class="o">}</span>
<span class="o">{</span> <span class="s2">&#34;_id&#34;</span> : ObjectId<span class="o">(</span><span class="s2">&#34;57a45105eccca305c45cb33a&#34;</span><span class="o">)</span>, <span class="s2">&#34;bamboos&#34;</span> : 21.64, <span class="s2">&#34;name&#34;</span> : <span class="s2">&#34;LPLç†ŠçŒ«TVå®˜æ–¹ç›´æ’­&#34;</span>, <span class="s2">&#34;date&#34;</span> : ISODate<span class="o">(</span><span class="s2">&#34;2016-08-05T08:40:37.707Z&#34;</span><span class="o">)</span> <span class="o">}</span>
<span class="o">{</span> <span class="s2">&#34;_id&#34;</span> : ObjectId<span class="o">(</span><span class="s2">&#34;57a5c283eccca30f6c94b0a0&#34;</span><span class="o">)</span>, <span class="s2">&#34;bamboos&#34;</span> : 22.04, <span class="s2">&#34;name&#34;</span> : <span class="s2">&#34;LPLç†ŠçŒ«TVå®˜æ–¹ç›´æ’­&#34;</span>, <span class="s2">&#34;date&#34;</span> : ISODate<span class="o">(</span><span class="s2">&#34;2016-08-06T10:57:07.491Z&#34;</span><span class="o">)</span> <span class="o">}</span>
...

</code></pre></td></tr></table>
</div>
</div><p>è¿™é‡Œè¦æ³¨æ„æœ‰ä¸ªå‘ï¼Œéœ€è¦å…ˆå®‰è£…mongodbæ•°æ®åº“ï¼Œåœ¨è¿è¡Œçˆ¬è™«ä¹‹å‰ï¼Œéœ€è¦å…ˆå¼€å¯æ•°æ®åº“ã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">$ mongod
</code></pre></td></tr></table>
</div>
</div><h2 id="24-æå–åˆ†ææ•°æ®"><a href="#24-æå–åˆ†ææ•°æ®" class="anchor-link"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href="#contents:24-æå–åˆ†ææ•°æ®" class="headings">2.4 æå–åˆ†ææ•°æ®</a></h2>
<p>å…³äºè¿™éƒ¨åˆ†æ¯”è¾ƒç®€å•ï¼Œå¤§è‡´å°±æ˜¯è¯»å–æ•°æ®åº“ï¼ŒæŒ‰ç…§æ—¶é—´æˆ³æ¥æ’åºï¼Œå¾—åˆ°æœ€æ–°çš„æ•°æ®ï¼Œç„¶åè¿”å›Top20çš„ä¸€ä¸ªDictã€‚ç‰¹åˆ«éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå› ä¸ºpythonçš„dictç±»å‹æ˜¯æ— åºçš„ï¼Œæ‰€ä»¥å³ä½¿ä½ æ˜¯æ’å¥½åºé€ä¸€æ·»åŠ ï¼Œæœ€åçš„Dictä¹Ÿæ˜¯æ— åºçš„ã€‚é‚£ä¹ˆåˆå› ä¸ºæˆ‘çš„Dictç»“æ„è¦æ–¹ä¾¿æ•°æ®å¯è§†åŒ–å·¥å…·echarts.jsè¯»å–ï¼Œæ‰€ä»¥æˆ‘è®¾è®¡æˆè¿™æ ·ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="n">Dict</span> <span class="o">=</span> <span class="p">{</span>
	<span class="sa"></span><span class="s2">&#34;</span><span class="s2">name</span><span class="s2">&#34;</span><span class="p">:</span> <span class="p">[</span><span class="sa"></span><span class="s1">&#39;</span><span class="s1">xx</span><span class="s1">&#39;</span><span class="p">,</span> <span class="sa"></span><span class="s1">&#39;</span><span class="s1">xx</span><span class="s1">&#39;</span><span class="p">,</span> <span class="o">.</span><span class="o">.</span><span class="o">.</span><span class="p">]</span>
	<span class="sa"></span><span class="s2">&#34;</span><span class="s2">bamboos</span><span class="s2">&#34;</span><span class="p">:</span> <span class="p">[</span><span class="n">xx</span><span class="p">,</span> <span class="n">xx</span><span class="p">,</span> <span class="o">.</span><span class="o">.</span><span class="o">.</span><span class="p">]</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><p>æˆ‘ç›´æ¥æŠŠæœ‰åºçš„åˆ—è¡¨ä½œä¸ºvaluesï¼Œè¿™æ ·å°±å¯ä»¥ä¸å…³æ³¨Dictçš„å‘äº†ã€‚è¿˜æœ‰å°±æ˜¯è¦ä¸¤ä¸ªåˆ—è¡¨ç»„åˆæ’åºçš„é—®é¢˜ï¼Œæˆ‘ä½¿ç”¨äº†zipå’Œsortedã€‚</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="kn">from</span> <span class="nn">pymongo</span> <span class="kn">import</span> <span class="n">MongoClient</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="k">def</span> <span class="nf">writeJsonFile</span><span class="p">(</span><span class="n">data</span><span class="p">,</span><span class="n">filename</span><span class="p">)</span><span class="p">:</span>
	<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="o">+</span><span class="sa"></span><span class="s2">&#34;</span><span class="s2">.json</span><span class="s2">&#34;</span><span class="p">,</span> <span class="sa"></span><span class="s1">&#39;</span><span class="s1">w</span><span class="s1">&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
  		<span class="n">json</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">get20Rank</span><span class="p">(</span><span class="n">db</span><span class="p">)</span><span class="p">:</span>
	<span class="n">bamboosList</span> <span class="o">=</span> <span class="p">[</span><span class="p">]</span>
	<span class="n">nameList</span> <span class="o">=</span> <span class="p">[</span><span class="p">]</span>
	<span class="n">rankDict</span> <span class="o">=</span> <span class="p">{</span><span class="p">}</span>
	<span class="n">mycollections</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">collection_names</span><span class="p">(</span><span class="p">)</span>
	<span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">mycollections</span><span class="p">:</span>
		<span class="n">latest</span> <span class="o">=</span> <span class="n">db</span><span class="p">[</span><span class="n">item</span><span class="p">]</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="p">)</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="sa"></span><span class="s1">&#39;</span><span class="s1">date</span><span class="s1">&#39;</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
		<span class="n">bamboosList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">latest</span><span class="p">[</span><span class="sa"></span><span class="s2">&#34;</span><span class="s2">bamboos</span><span class="s2">&#34;</span><span class="p">]</span><span class="p">)</span>
		<span class="n">nameList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">latest</span><span class="p">[</span><span class="sa"></span><span class="s2">&#34;</span><span class="s2">name</span><span class="s2">&#34;</span><span class="p">]</span><span class="p">)</span>
	<span class="n">bamboosList</span><span class="p">,</span> <span class="n">nameList</span> <span class="o">=</span> <span class="nb">zip</span><span class="p">(</span><span class="o">*</span><span class="nb">sorted</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">bamboosList</span><span class="p">,</span> <span class="n">nameList</span><span class="p">)</span><span class="p">,</span> <span class="n">reverse</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span><span class="p">)</span>
	<span class="n">rankDict</span><span class="p">[</span><span class="sa"></span><span class="s2">&#34;</span><span class="s2">name</span><span class="s2">&#34;</span><span class="p">]</span> <span class="o">=</span> <span class="n">nameList</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">19</span><span class="p">]</span>
	<span class="n">rankDict</span><span class="p">[</span><span class="sa"></span><span class="s2">&#34;</span><span class="s2">bamboos</span><span class="s2">&#34;</span><span class="p">]</span> <span class="o">=</span> <span class="n">bamboosList</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">19</span><span class="p">]</span>
	<span class="n">writeJsonFile</span><span class="p">(</span><span class="n">rankDict</span><span class="p">,</span> <span class="sa"></span><span class="s2">&#34;</span><span class="s2">bamboos_rank</span><span class="s2">&#34;</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p>è¿™æ ·æˆ‘ä»¬å¾—åˆ°äº†åŒ…å«æ•°æ®çš„jsonæ–‡ä»¶ã€‚</p>
<h2 id="25-æ•°æ®å¯è§†åŒ–"><a href="#25-æ•°æ®å¯è§†åŒ–" class="anchor-link"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href="#contents:25-æ•°æ®å¯è§†åŒ–" class="headings">2.5 æ•°æ®å¯è§†åŒ–</a></h2>
<h3 id="251-echartsjs"><a href="#251-echartsjs" class="anchor-link"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href="#contents:251-echartsjs" class="headings">2.5.1 echarts.js</a></h3>
<p>å…³äºæ•°æ®å¯è§†åŒ–çš„é€‰æ‹©æœ‰å¾ˆå¤šï¼Œwebæ–¹é¢æœ‰highchartã€echartsã€d3ä¹‹ç±»ã€‚å› ä¸ºçœ‹ä¸­æ–‡çˆ½ï¼Œè¿˜æ˜¯ç”¨äº†echartsã€‚
<a href="http://echarts.baidu.com/" target="_blank" rel="noopener">echartså®˜ç½‘</a>
æˆ‘ä»¬éœ€è¦å¼‚æ­¥åŠ è½½æ•°æ®ï¼Œ<a href="http://echarts.baidu.com/tutorial.html#%E5%BC%82%E6%AD%A5%E6%95%B0%E6%8D%AE%E5%8A%A0%E8%BD%BD%E5%92%8C%E6%9B%B4%E6%96%B0" target="_blank" rel="noopener">å¼‚æ­¥åŠ è½½å®ä¾‹</a></p>
<p>è¿™è¾¹è¿˜æœ‰ä¸ªå‘ï¼Œå°±æ˜¯å› ä¸ºxè½´çš„æ•°æ®å¤ªå¯†é›†ï¼Œä¼šå¯¼è‡´æ˜¾ç¤ºä¸å…¨ï¼Œè§£å†³åŠæ³•ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="nx">xAxis</span><span class="o">:</span> <span class="p">[</span>
    <span class="nx">axisLabel</span><span class="o">:</span> <span class="p">{</span>
   	    <span class="nx">interval</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
   	    <span class="nx">rotate</span><span class="o">:</span> <span class="mi">340</span>
    <span class="p">}</span><span class="p">,</span>	
<span class="p">]</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="252-ç§»åŠ¨ç«¯ç®€å•æ”¯æŒ"><a href="#252-ç§»åŠ¨ç«¯ç®€å•æ”¯æŒ" class="anchor-link"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href="#contents:252-ç§»åŠ¨ç«¯ç®€å•æ”¯æŒ" class="headings">2.5.2 ç§»åŠ¨ç«¯ç®€å•æ”¯æŒ</a></h3>
<p>æˆ‘ä½¿ç”¨äº†viewportæ¥ç¨å¾®æ”¯æŒäº†ä¸‹ç§»åŠ¨ç«¯ï¼Œå³åˆ¤æ–­innerWidthçš„å¤§å°ï¼ˆæ˜¾ç¤ºå±ï¼‰æ¥è®¾ç½®å‚æ•°ã€‚å½“å±å¹•å®½åº¦å¤§äº500pxæ—¶ï¼Œæ¨ªå‘æ’ç‰ˆï¼›å°äº500pxæ—¶ï¼Œçºµå‘æ’ç‰ˆã€‚</p>
<h2 id="26-éƒ¨ç½²åˆ°ç½‘ç«™"><a href="#26-éƒ¨ç½²åˆ°ç½‘ç«™" class="anchor-link"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href="#contents:26-éƒ¨ç½²åˆ°ç½‘ç«™" class="headings">2.6 éƒ¨ç½²åˆ°ç½‘ç«™</a></h2>
<p>æˆ‘ä»¬åœ¨è°ƒè¯•echartsçš„æ—¶å€™ï¼Œä¼šé‡åˆ°ä¸€ä¸ªå‘ï¼Œå³ä¸èƒ½è·¨åŸŸï¼Œå› ä¸ºæˆ‘ä»¬æ˜¯è¯»å–æœ¬åœ°jsonæ–‡ä»¶çš„ã€‚æˆ‘å®‰è£…äº†ä¸€ä¸ªxamppæ¥è°ƒè¯•ï¼Œæ¯”è¾ƒæ–¹ä¾¿ã€‚</p>
<p>å› ä¸ºæˆ‘æœ‰ä¸€ä¸ªé…ç½®å¥½çš„è™šæ‹Ÿä¸»æœºï¼Œæ‰€ä»¥ç›´æ¥å°†jsonæ–‡ä»¶å’Œhtmlé¡µé¢æ”¾ä¸Šå»å°±å¯ä»¥çœ‹åˆ°äº†ã€‚å¦‚æœåªæ˜¯ä¸€ä¸ªå•çº¯çš„æœåŠ¡å™¨ï¼Œéœ€è¦è‡ªå·±æ­å»ºæœåŠ¡å™¨ã€‚æˆ–è€…æ”¾åˆ°github pagesä¸Šä¹Ÿå¯ä»¥ã€‚</p>
<h1 id="3-æ€»ç»“"><a href="#3-æ€»ç»“" class="anchor-link"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon anchor-icon"><path d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"/></svg></a><a href="#contents:3-æ€»ç»“" class="headings">3. æ€»ç»“</a></h1>
<p>æ”¾ä¸ŠGithubåœ°å€ï¼š <a href="https://github.com/HeroadZ/panda-bamboos-rank" target="_blank" rel="noopener">panda-bamboos-rank</a><br>
å±•ç¤ºåœ°å€ï¼š <a href="http://behappy.cc/extension/panda/rank.html" target="_blank" rel="noopener">http://behappy.cc/extension/panda/rank.html</a></p>
<p><strong>PS: ç”±äºç†ŠçŒ«ç›´æ’­å·²å€’é—­ï¼Œæœ¬é¡¹ç›®ä¸å†ç»´æŠ¤ï¼Œå±•ç¤ºåœ°å€ä¸å¯è®¿é—®ã€‚</strong></p>
<p>ä»¥ä¸Šã€‚</p>
</div>

        </article>

        

        


        


        


        

<div class="post-share">

        

        <div class="share-items">

            
                <div class="share-item twitter">
                    
                    <a href="https://twitter.com/share?url=https://example.com/2016/08/09/python-panda-rank/&amp;text=pandaTV%e7%ab%b9%e5%ad%90Top20%e6%95%99%e7%a8%8b&amp;hashtags=&amp;via=Merlini_zc" title="åˆ†äº«åˆ°ã€ŒTwitterã€" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon twitter-icon"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg></a>
                </div>
            

            
                <div class="share-item facebook">
                    
                    <a href="https://www.facebook.com/sharer/sharer.php?u=https://example.com/2016/08/09/python-panda-rank/&amp;hashtag=%23" title="åˆ†äº«åˆ°ã€ŒFacebookã€" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon facebook-icon"><path d="M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"/></svg></a>
                </div>
            

            
                <div class="share-item linkedin">
                    
                    <a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://example.com/2016/08/09/python-panda-rank/&amp;title=pandaTV%e7%ab%b9%e5%ad%90Top20%e6%95%99%e7%a8%8b&amp;summary=%e8%bf%99%e6%ac%a1%e6%88%91%e4%bc%9a%e5%b8%a6%e6%9d%a5%e4%b8%80%e4%b8%aapandaTV%e7%ab%b9%e5%ad%90Top20%e7%9a%84%e6%95%99%e7%a8%8b%ef%bc%8c%e4%bb%8e%e9%9b%b6%e5%bc%80%e5%a7%8b%e3%80%82%201.%20%e8%83%8c%e6%99%af%e4%ba%a4%e4%bb%a3%201.1%20%e5%b7%a5%e5%85%b7%e5%92%8c%e7%8e%af%e5%a2%83%e2%80%a6%e2%80%a6%0d%0a%20%20%20%20%0d%0a%20%20%20%20&amp;source=%e9%86%89%e4%b9%90%e8%bd%a9" title="åˆ†äº«åˆ°ã€ŒLinkedInã€" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="icon linkedin-icon"><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg></a>
                </div>
            

            
                <div class="share-item telegram">
                    
                    <a href="https://t.me/share/url?url=https://example.com/2016/08/09/python-panda-rank/&amp;text=pandaTV%e7%ab%b9%e5%ad%90Top20%e6%95%99%e7%a8%8b" title="åˆ†äº«åˆ°ã€ŒTelegramã€" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512" class="icon telegram-icon"><path d="M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm121.8 169.9l-40.7 191.8c-3 13.6-11.1 16.9-22.4 10.5l-62-45.7-29.9 28.8c-3.3 3.3-6.1 6.1-12.5 6.1l4.4-63.1 114.9-103.8c5-4.4-1.1-6.9-7.7-2.5l-142 89.4-61.2-19.1c-13.3-4.2-13.6-13.3 2.8-19.7l239.1-92.2c11.1-4 20.8 2.7 17.2 19.5z"/></svg></a>
                </div>
            

            
                <div class="share-item weibo">
                    
                    <a href="https://service.weibo.com/share/share.php?&amp;url=https://example.com/2016/08/09/python-panda-rank/&amp;title=pandaTV%e7%ab%b9%e5%ad%90Top20%e6%95%99%e7%a8%8b&amp;pic=https://example.com/icons/apple-touch-icon.png&amp;searchPic=false" title="åˆ†äº«åˆ°ã€Œæ–°æµªå¾®åšã€" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon weibo-icon"><path d="M407 177.6c7.6-24-13.4-46.8-37.4-41.7-22 4.8-28.8-28.1-7.1-32.8 50.1-10.9 92.3 37.1 76.5 84.8-6.8 21.2-38.8 10.8-32-10.3zM214.8 446.7C108.5 446.7 0 395.3 0 310.4c0-44.3 28-95.4 76.3-143.7C176 67 279.5 65.8 249.9 161c-4 13.1 12.3 5.7 12.3 6 79.5-33.6 140.5-16.8 114 51.4-3.7 9.4 1.1 10.9 8.3 13.1 135.7 42.3 34.8 215.2-169.7 215.2zm143.7-146.3c-5.4-55.7-78.5-94-163.4-85.7-84.8 8.6-148.8 60.3-143.4 116s78.5 94 163.4 85.7c84.8-8.6 148.8-60.3 143.4-116zM347.9 35.1c-25.9 5.6-16.8 43.7 8.3 38.3 72.3-15.2 134.8 52.8 111.7 124-7.4 24.2 29.1 37 37.4 12 31.9-99.8-55.1-195.9-157.4-174.3zm-78.5 311c-17.1 38.8-66.8 60-109.1 46.3-40.8-13.1-58-53.4-40.3-89.7 17.7-35.4 63.1-55.4 103.4-45.1 42 10.8 63.1 50.2 46 88.5zm-86.3-30c-12.9-5.4-30 .3-38 12.9-8.3 12.9-4.3 28 8.6 34 13.1 6 30.8.3 39.1-12.9 8-13.1 3.7-28.3-9.7-34zm32.6-13.4c-5.1-1.7-11.4.6-14.3 5.4-2.9 5.1-1.4 10.6 3.7 12.9 5.1 2 11.7-.3 14.6-5.4 2.8-5.2 1.1-10.9-4-12.9z"/></svg></a>
                </div>
            

            
                <div class="share-item douban">
                    
                    <a href="https://www.douban.com/share/service?href=https://example.com/2016/08/09/python-panda-rank/&amp;name=pandaTV%e7%ab%b9%e5%ad%90Top20%e6%95%99%e7%a8%8b&amp;text=%e8%bf%99%e6%ac%a1%e6%88%91%e4%bc%9a%e5%b8%a6%e6%9d%a5%e4%b8%80%e4%b8%aapandaTV%e7%ab%b9%e5%ad%90Top20%e7%9a%84%e6%95%99%e7%a8%8b%ef%bc%8c%e4%bb%8e%e9%9b%b6%e5%bc%80%e5%a7%8b%e3%80%82%201.%20%e8%83%8c%e6%99%af%e4%ba%a4%e4%bb%a3%201.1%20%e5%b7%a5%e5%85%b7%e5%92%8c%e7%8e%af%e5%a2%83%e2%80%a6%e2%80%a6%0d%0a%20%20%20%20%0d%0a%20%20%20%20" title="åˆ†äº«åˆ°ã€Œè±†ç“£ã€" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="icon douban-icon"><path d="M.643.92v2.412h22.714V.92H.643zm1.974 4.926v9.42h18.764v-9.42H2.617zm2.72 2.408H18.69v4.605H5.338V8.254zm1.657 7.412l-2.512.938c1.037 1.461 1.87 2.825 2.512 4.091H0v2.385h24v-2.385h-6.678c.818-1.176 1.589-2.543 2.303-4.091l-2.73-.938a29.952 29.952 0 01-2.479 5.03h-4.75c-.786-1.962-1.677-3.641-2.672-5.03Z"/></svg></a>
                </div>
            

            
                <div class="share-item qq">
                    
                    <a href="https://connect.qq.com/widget/shareqq/index.html?url=https://example.com/2016/08/09/python-panda-rank/&amp;title=pandaTV%e7%ab%b9%e5%ad%90Top20%e6%95%99%e7%a8%8b&amp;summary=%e8%bf%99%e6%ac%a1%e6%88%91%e4%bc%9a%e5%b8%a6%e6%9d%a5%e4%b8%80%e4%b8%aapandaTV%e7%ab%b9%e5%ad%90Top20%e7%9a%84%e6%95%99%e7%a8%8b%ef%bc%8c%e4%bb%8e%e9%9b%b6%e5%bc%80%e5%a7%8b%e3%80%82%201.%20%e8%83%8c%e6%99%af%e4%ba%a4%e4%bb%a3%201.1%20%e5%b7%a5%e5%85%b7%e5%92%8c%e7%8e%af%e5%a2%83%e2%80%a6%e2%80%a6%0d%0a%20%20%20%20%0d%0a%20%20%20%20&amp;pics=https://example.com/icons/apple-touch-icon.png&amp;site=%e9%86%89%e4%b9%90%e8%bd%a9" title="åˆ†äº«åˆ°ã€ŒQQã€" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="icon qq-icon"><path d="M433.754 420.445c-11.526 1.393-44.86-52.741-44.86-52.741 0 31.345-16.136 72.247-51.051 101.786 16.842 5.192 54.843 19.167 45.803 34.421-7.316 12.343-125.51 7.881-159.632 4.037-34.122 3.844-152.316 8.306-159.632-4.037-9.045-15.25 28.918-29.214 45.783-34.415-34.92-29.539-51.059-70.445-51.059-101.792 0 0-33.334 54.134-44.859 52.741-5.37-.65-12.424-29.644 9.347-99.704 10.261-33.024 21.995-60.478 40.144-105.779C60.683 98.063 108.982.006 224 0c113.737.006 163.156 96.133 160.264 214.963 18.118 45.223 29.912 72.85 40.144 105.778 21.768 70.06 14.716 99.053 9.346 99.704z"/></svg></a>
                </div>
            

            
                <div class="share-item qzone">
                    
                    <a href="https://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=https://example.com/2016/08/09/python-panda-rank/&amp;title=pandaTV%e7%ab%b9%e5%ad%90Top20%e6%95%99%e7%a8%8b&amp;summary=%e8%bf%99%e6%ac%a1%e6%88%91%e4%bc%9a%e5%b8%a6%e6%9d%a5%e4%b8%80%e4%b8%aapandaTV%e7%ab%b9%e5%ad%90Top20%e7%9a%84%e6%95%99%e7%a8%8b%ef%bc%8c%e4%bb%8e%e9%9b%b6%e5%bc%80%e5%a7%8b%e3%80%82%201.%20%e8%83%8c%e6%99%af%e4%ba%a4%e4%bb%a3%201.1%20%e5%b7%a5%e5%85%b7%e5%92%8c%e7%8e%af%e5%a2%83%e2%80%a6%e2%80%a6%0d%0a%20%20%20%20%0d%0a%20%20%20%20&amp;pics=https://example.com/icons/apple-touch-icon.png&amp;site=%e9%86%89%e4%b9%90%e8%bd%a9" title="åˆ†äº«åˆ°ã€ŒQQ ç©ºé—´ã€" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="icon qzone-icon"><path d="M23.985 9.202c-.032-.099-.127-.223-.334-.258-.207-.036-7.351-1.406-7.351-1.406s-.105-.022-.198-.07c-.092-.047-.127-.167-.127-.167S12.447.956 12.349.77C12.25.583 12.104.532 12 .532c-.104 0-.251.051-.349.238-.098.186-3.626 6.531-3.626 6.531s-.035.12-.128.167c-.092.047-.197.07-.197.07S.556 8.908.348 8.943c-.208.036-.302.16-.333.258a.477.477 0 0 0 .125.449l5.362 5.49s.072.08.119.172c.016.104.005.21.005.21s-1.189 7.242-1.22 7.45.075.369.159.43c.083.062.233.106.421.013.189-.093 6.812-3.261 6.812-3.261s.098-.044.201-.061c.103-.017.201.061.201.061s6.623 3.168 6.812 3.261c.188.094.338.049.421-.013a.463.463 0 0 0 .159-.43c-.021-.14-.93-5.677-.93-5.677.876-.54 1.425-1.039 1.849-1.747-2.594.969-6.006 1.717-9.415 1.866-.915.041-2.41.097-3.473-.015-.678-.071-1.17-.144-1.243-.438-.053-.215.054-.46.545-.831a2640.5 2640.5 0 0 1 2.861-2.155c1.285-.968 3.559-2.47 3.559-2.731 0-.285-2.144-.781-4.037-.781-1.945 0-2.275.132-2.811.168-.488.034-.769.005-.804-.138-.06-.248.183-.389.588-.568.709-.314 1.86-.594 1.984-.626.194-.052 3.082-.805 5.618-.535 1.318.14 3.244.668 3.244 1.276 0 .342-1.721 1.494-3.225 2.597-1.149.843-2.217 1.561-2.217 1.688 0 .342 3.533 1.241 6.689 1.01l.003-.022c.048-.092.119-.172.119-.172l5.362-5.49a.477.477 0 0 0 .127-.449z"/></svg></a>
                </div>
            

            
                <div class="share-item qrcode">
                    <div class="qrcode-container" title="é€šè¿‡ã€ŒäºŒç»´ç ã€"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="icon qrcode-icon"><path d="M0 224h192V32H0v192zM64 96h64v64H64V96zm192-64v192h192V32H256zm128 128h-64V96h64v64zM0 480h192V288H0v192zm64-128h64v64H64v-64zm352-64h32v128h-96v-32h-32v96h-64V288h96v32h64v-32zm0 160h32v32h-32v-32zm-64 0h32v32h-32v-32z"/></svg><div id="qrcode-img"></div>
                    </div>
                    <script src="https://cdn.jsdelivr.net/npm/qrcode-generator@1.4.4/qrcode.min.js"></script>

<script>
    var typeNumber = 0;
    var errorCorrectionLevel = 'L';
    var qr = qrcode(typeNumber, errorCorrectionLevel);
    qr.addData('https:\/\/example.com\/2016\/08\/09\/python-panda-rank\/');
    qr.make();
    document.getElementById('qrcode-img').innerHTML = qr.createImgTag();
</script>

                </div>
            

        </div>

    </div>




        


        


        


        


        


        


    </div>
</main>


            
    <div id="back-to-top" class="back-to-top">
        <a href="#"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="icon arrow-up"><path d="M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"/></svg></a>
    </div>


            
    <footer id="footer" class="footer">
        <div class="footer-inner">
            <div class="site-info">Â©&nbsp;2014â€“2020&nbsp;<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon footer-icon"><path d="M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"/></svg>&nbsp;å¼ ç¨‹</div><div class="powered-by">Powered by <a href="https://github.com/gohugoio/hugo" target="_blank" rel="noopener">Hugo</a> | Theme is <a href="https://github.com/reuixiy/hugo-theme-meme" target="_blank" rel="noopener">MemE</a></div><div class="custom-footer"><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener">CC BY-NC-SA 4.0</a></div>

            


            
        </div>
    </footer>


        </div>
        <script src="/js/meme.min.5d34fb8bf7cd205f83284aff4c8e8eb0e907d0dc97b7c0a52f82505040721c3d.js" integrity="sha256-XTT7i/fNIF&#43;DKEr/TI6OsOkH0NyXt8ClL4JQUEByHD0="></script>


    <script src="https://cdn.jsdelivr.net/gh/cferdinandi/smooth-scroll/dist/smooth-scroll.polyfills.min.js"></script>

<script>
    var scroll = new SmoothScroll('a[href*="#"]', {
        speedAsDuration: true,
        header: '[data-scroll-header]'
    });
</script>












    <script src="https://cdn.jsdelivr.net/npm/medium-zoom@latest/dist/medium-zoom.min.js"></script>

<script>
    mediumZoom(document.querySelectorAll('div.post-body img'), {
        background: 'hsla(var(--color-bg-h), var(--color-bg-s), var(--color-bg-l), 0.95)'
    })
</script>




    <script src="https://cdn.jsdelivr.net/npm/instant.page@3.0.0/instantpage.min.js" type="module" defer></script>










    </body>
</html>
